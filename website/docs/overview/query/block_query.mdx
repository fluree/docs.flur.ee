import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Block Query

In this section, we show you how to select all flakes from a block or a selection of blocks. Fluree allows you to select data from an entire block or block range. All of these queries can be issued through the API or the user interface (select `FlureeQL` in the sidebar, then make sure `Query` is selected in the top-right, and `Block` is selected in the dropdown).

To issue these queries using the API, see [`/block`](/reference/http/examples.md#block).

## Block Clauses {#block-clauses}

A block query requires a `block` key, which specifies a block or range of blocks to return. There are a variety of options for how to format this value. They are listed below.

A block query can also optionally include a `prettyPrint` key, which pretty prints the results if `true`.

Key | Required? | Description
-- | -- | --
`block` | yes | A block or range of blocks to return, options for the format of this value are listed below.
`prettyPrint` | no | Optional, `true` or `false`, whether to pretty print results. Default `false`

### Query Single block {#query-single-block}

To query a single block, you specify the block number, an ISO-8601 formatted wall clock time, or an ISO-8601 formatted duration.

Using a block number:

<Tabs
  defaultValue="json"
  values={[{label: 'FlureeQL', value: 'json'},
  {label: 'Curl', value: 'bash'},
  {label: 'GraphQL', value: 'graphql'},
  {label: 'SPARQL', value: 'sparql'}]}
>
<TabItem value="json">

```json
{
  "block": 3
}
```

</TabItem>

<TabItem value="bash">

```bash
curl \
   -H "Content-Type: application/json" \
   -H "Authorization: Bearer $FLUREE_TOKEN" \
   -d '{
    "block": 3
}' \
   [HOST]/api/db/block
```

</TabItem>

<TabItem value="graphql">

```graphql
query  {
  block(from: 3, to: 3)
}
```

</TabItem>

<TabItem value="sparql">

```sparql
Not supported
```

</TabItem>
</Tabs>

Using an ISO-8601 formatted wall-clock time:

<Tabs
  defaultValue="json"
  values={[{label: 'FlureeQL', value: 'json'},
  {label: 'Curl', value: 'bash'},
  {label: 'GraphQL', value: 'graphql'},
  {label: 'SPARQL', value: 'sparql'}]}
>
<TabItem value="json">

```json
{
  "block": "2017-11-14T20:59:36.097Z"
}
```

</TabItem>

<TabItem value="bash">

```bash
curl \
   -H "Content-Type: application/json" \
   -H "Authorization: Bearer $FLUREE_TOKEN" \
   -d '{
    "block": "2017-11-14T20:59:36.097Z"
}' \
[HOST]/api/db/block
```

</TabItem>

<TabItem value="graphql">

```graphql
Not supported
```

</TabItem>

<TabItem value="sparql">

```sparql
Not supported
```

</TabItem>
</Tabs>

### Query Block Range {#query-block-range}

To query a range of block, specify a lower and upper limit (inclusive).

<Tabs
  defaultValue="json"
  values={[{label: 'FlureeQL', value: 'json'},
  {label: 'Curl', value: 'bash'},
  {label: 'GraphQL', value: 'graphql'},
  {label: 'SPARQL', value: 'sparql'}]}
>
<TabItem value="json">

```json
{
  "block": [3,5]
}
```

</TabItem>

<TabItem value="bash">

```bash
curl \
   -H "Content-Type: application/json" \
   -H "Authorization: Bearer $FLUREE_TOKEN" \
   -d '{
    "block": [3, 5]
}' \
[HOST]/api/db/block
```

</TabItem>

<TabItem value="graphql">

```graphql
query  {
  block(from: 3, to: 5)
}
```

</TabItem>

<TabItem value="sparql">

```sparql
Not supported
```

</TabItem>
</Tabs>

### Query Block Range, Lower Limit {#query-block-range-lower-limit}

To query a range of block, starting with a lower limit, specify just the lower limit (inclusive).

<Tabs
  defaultValue="json"
  values={[{label: 'FlureeQL', value: 'json'},
  {label: 'Curl', value: 'bash'},
  {label: 'GraphQL', value: 'graphql'},
  {label: 'SPARQL', value: 'sparql'}]}
>
<TabItem value="json">

```json
{
  "block": [3]
}
```

</TabItem>

<TabItem value="bash">

```bash
curl \
   -H "Content-Type: application/json" \
   -d '{
    "block": [3]
}' \
 [HOST]/api/db/block
```

</TabItem>

<TabItem value="graphql">

```graphql
query  {
  block(from: 3)
}
```

</TabItem>

<TabItem value="sparql">

```sparql
Not supported
```

<<<<<<< HEAD:website/docs/overview/query/block-query.mdx
</TabItem>
</Tabs>

## Pretty Print Block Query {#pretty-print-block-query}
=======
## Pretty Print Block Query {#pretty-print-block_query}
>>>>>>> 253c1be (WIP fixing brokenLinks):website/docs/overview/query/block_query.mdx

In FlureeQL, you can pretty print the results of a block query by adding `"prettyPrint": true` to your query map. Any format of block query can be pretty printed.

<Tabs
  defaultValue="json"
  values={[{label: 'FlureeQL', value: 'json'},
  {label: 'Curl', value: 'bash'},
  {label: 'GraphQL', value: 'graphql'},
  {label: 'SPARQL', value: 'sparql'}]}
>
<TabItem value="json">

```json
{
  "block": [3],
  "prettyPrint": true
}
```

</TabItem>

<TabItem value="bash">

```bash
curl \
   -H "Content-Type: application/json" \
   -d '{
  "block": [3],
  "prettyPrint": true
}' \
 [HOST]/api/db/block
```

</TabItem>

<TabItem value="graphql">

```graphql
Not supported
```

</TabItem>

<TabItem value="sparql">

```sparql
Not supported
```

</TabItem>
</Tabs>
